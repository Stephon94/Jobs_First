


<div id='map-canvas'style="width:400px;height:400px;background:yellow"> </div>

<h2>{{banner.text}}</h2>
<img src="/uploads/{{banner.image}}">
<img src="/uploads/{{banner.sub_image}}">

{% for partnership_type in partnership_types %}

<h1 style=color:red>{{partnership_type.0.title}}</h1>
<p style=color:red>{{partnership_type.0.text}}</p>


<img src="/uploads/{{partnership_type.1.image}}">
<h1>{{partnership_type.1.name}}</h1>
<p>{{partnership_type.1.text}}</p>
<p>{{start_location}}</p>

{% endfor %}


<script type="text/javascript">

  var map;
  function initialize() {
    var mapDiv = document.getElementById('map-canvas');
    map = new google.maps.Map(mapDiv, {
      center: new google.maps.LatLng({{start_location.0}},{{start_location.1}}),
      zoom: 12,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });

    google.maps.event.addListenerOnce(map, 'tilesloaded', addMarkers);

  }

  function addMarkers() {


        {% for location in locations_names %}
        var point = new google.maps.LatLng({{location.0.0}},{{start_location.0.1}});
            var marker = new google.maps.Marker({
            position: point,
            map: map
        });
        {% for partner in location_names %}
        {% if partner.0 == start_location %}
             marker['infowindow']  = new google.maps.InfoWindow({
                     content: "<h1>{{partner.1}}</h1> ,"
        });
            google.maps.event.addListener(marker, 'click', function() {
                //window.location.href = this.url;
                 this['infowindow'].open(map, this);
            });
           google.maps.event.addListener(marker, 'mouseover', function() {
                // this['infowindow'].open(map, this);
                    });
           google.maps.event.addListener(marker, 'mouseout', function() {
                // this['infowindow'].close(map, this);

            });

          {% endif %}
          {% endfor %}





        {% endfor %}

  }



</script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyBYOzdfmDWY1U9A0cmo0CTR3upFcLiRKoQ&callback=initialize" async defer></script>
